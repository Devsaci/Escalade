<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="template1">
<head>
    <meta charset="UTF-8"/>
    <title>Profil</title>
    <link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css"
          th:href="@{css/bootstrap.min.css}"/>
    <link rel="stylesheet" type="text/css" href="../static/css/MyStylesheet.css"
          th:href="@{css/MyStylesheet.css}"/>

</head>

<body>

<div layout:fragment="content">
    <section id="Profil">
        <div class="container">
        <h2> Votre Profil </h2>
        <h4> Bonjour  <strong name="rmUser" th:inline="text">[[${#httpServletRequest.remoteUser}]]</strong> n'oubliez pas de valider vos demandes de prêt de topo! </h4>
            <p></p>

            <form action="" method="get">
                <input type="hidden" name="rmUser" th:value="${#httpServletRequest.remoteUser}"/>
            <button id="btntopos" class="btn btn-default " type="submit">Afficher Mes Topos</button>
            </form>

            <div id="affTopo" class="col-md-6" th:each="s:${listopo}">
                <div class="panel-default">
                    <div class="panel-heading" >
                        <div th:text="${s.nomTopo}">Site:</div>
                    </div>
                    <div class="panel-body" >
                        <div th:text="${s.descriptionTopo}">
                        </div>
                    </div>
                    <div>
                        <button type="button" class="btn btn-secondary pull-right">Gestion des Prêts</button>
                    </div>
                </div>
            </div>

            <div class="col-md-8">
                <div class="panel-default">
                    <div id="profCreaTopo" class="panel-heading" th:text="'NEW TOPO'"></div>
                    <div class="panel-body">
                        <form th:action="@{saveTopo}" method="post">
                            <div class="form-group">
                                <label class="control-label">Nom du Topo :</label>
                                <input class="form-control" type="text" name="nomTopo" th:value="${topo.nomTopo}"/>
                                <span class="red" th:errors="${topo.nomTopo}"></span>
                            </div>
                            <div class="form-group">
                                <label class="control-label">Description du Topo :</label>
                                <input class="form-control" type="text" name="descriptionTopo"
                                       th:value="${topo.descriptionTopo}"/>
                                <span class="red" th:errors="${topo.descriptionTopo}"></span>
                            </div>
                            <input type="hidden" name="rmUser" th:value="${#httpServletRequest.remoteUser}"/>
                            <div>
                                <button type="submit" class="btn btn-default">Save</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

</body>
</html>